<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui" 
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:fnc="http://myco.co.uk/fnc">
    <ui:composition template="pimTemplate.xhtml">
        <ui:define name="centerLayoutUnit">
            <p:layoutUnit position="center" style="border: 0" >
                <p:panel style="border: 0">
                    <p:panel header="Coordonées" id="layout">
                        <h:form>
                            <fnc:disablePanel disabled="#{interfaceController.disabled}">
                                <p:panelGrid columns="2" >
                                    <p:outputLabel value="Pays" />
                                    <p:selectOneMenu value="#{contactsManager.country}"
                                                     style="width: 250px">
                                        <f:selectItems value="#{countryController.coutries}"
                                                       var="crt" itemLabel="#{crt.country}"
                                                       itemValue="#{crt.nationality}" />
                                    </p:selectOneMenu> 

                                    <h:outputLabel value="Région" />
                                    <p:inputText class="textWidth" value="#{contactsManager.region}"/>

                                    <p:outputLabel value="Ville" />
                                    <p:inputText class="textWidth" value="#{contactsManager.city}"/>

                                    <p:outputLabel value="Adresse" />
                                    <p:inputText class="textWidth" value="#{contactsManager.street}"/>

                                    <p:outputLabel value="Téléphone Mobile" />
                                    <p:inputMask value="#{contactsManager.mobilePhone}" 
                                                 mask="999-999-999" slotChar="0" class="textWidth" />

                                    <p:outputLabel value="Téléphone de domicile" />
                                    <p:inputMask value="#{contactsManager.homePhone}" 
                                                 mask="999-999-999" slotChar="0" class="textWidth"/>

                                    <p:outputLabel value="Téléphone Professionnel" />
                                    <p:inputMask value="#{contactsManager.workPhone}" 
                                                 mask="999-999-999" slotChar="0" class="textWidth"/>

                                    <p:outputLabel value="Email" />
                                    <p:inputText class="textWidth" value="#{contactsManager.email}"/>
                                </p:panelGrid>
                            </fnc:disablePanel>
                        </h:form>
                        <f:facet name="footer">
                            <p:commandButton value="Modifier" action="#{interfaceController.disable()}"
                                             update="layout"
                                             rendered="#{interfaceController.editButtonRender}"/>
                            <p:commandButton value="Enregistrer" 
                                             actionListener="#{contactsManager.editContact}"
                                             action="#{interfaceController.disable()}"
                                             update="layout"
                                             rendered="#{interfaceController.saveButtonRender}" />
                        </f:facet>
                    </p:panel>
                </p:panel>
            </p:layoutUnit>
        </ui:define>
    </ui:composition>
</html>

